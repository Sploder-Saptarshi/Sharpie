[
    { "hex": "0x00", "name": "NOP",    "len": 1, "logic": "" , "words": 0 , "pattern": "", "desc": "No operation.", "alt": "" },
    { "hex": "0x01", "name": "MOV",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Copy value from R2 to R1.", "alt": "" },
  
    { "hex": "0x10", "name": "LDM",    "len": 4, "logic": null, "words": 2 , "pattern": "RW", "desc": "Load 16-bit word from address W to R.", "alt": "Load single byte from address W." },
    { "hex": "0x11", "name": "LDP",    "len": 2, "logic": null, "words": 2 , "pattern": "RR", "desc": "Load word from [R2] into R1.", "alt": "Load single byte from [R2]." },
    { "hex": "0x20", "name": "LDI",    "len": 3, "logic": null, "family": true , "words": 2 , "pattern": "RW", "desc": "Load immediate word W into Rn.", "alt": "" },
    { "hex": "0x30", "name": "STM",    "len": 3, "logic": null, "family": true , "words": 2 , "pattern": "RW", "desc": "Store word from R to address W.", "alt": "Store the low byte of R to W." },
    { "hex": "0x12", "name": "STP",    "len": 2, "logic": null, "words": 2 , "pattern": "RR", "desc": "Save word from [R1] in the address within R2.", "alt": "Store the low byte of [R1] in the address within R2." },
    { "hex": "0x13", "name": "STA",    "len": 2, "logic": null, "words": 2 , "pattern": "RR", "desc": "Store word from R1 to the address contained in R2.", "alt": "Store the low byte of R1 at the address contained in R2." },
    { "hex": "0x14", "name": "LDS",    "len": 2, "logic": null, "words": 2 , "pattern": "RR", "desc": "Load word from [SP + R2] (signed) into R1.", "alt": "Load byte from [SP + R2] (signed) into R1." },
    { "hex": "0x15", "name": "STS",    "len": 2, "logic": null, "words": 2 , "pattern": "RR", "desc": "Store word from R1 to SP + R2 (signed).", "alt": "Store the low byte of R1 SP + R2 (signed)." },
  
    { "hex": "0x40", "name": "ADD",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "R1 = R1 + R2. Updates Z, N, C, V.", "alt": "" },
    { "hex": "0x41", "name": "SUB",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "R1 = R1 - R2. Updates Z, N, C, V.", "alt": "" },
    { "hex": "0x42", "name": "MUL",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "R1 = R1 * R2. Sets C/V if result > 65535.", "alt": "" },
    { "hex": "0x43", "name": "DIV",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "R1 = R1 / R2. (Div by 0 sets Overflow/Zero).", "alt": "" },
    { "hex": "0x44", "name": "MOD",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "R1 = R1 % R2.", "alt": "" },
    { "hex": "0x45", "name": "AND",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Bitwise AND.", "alt": "" },
    { "hex": "0x46", "name": "OR",     "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Bitwise OR.", "alt": "" },
    { "hex": "0x47", "name": "XOR",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Bitwise XOR.", "alt": "" },
    { "hex": "0x48", "name": "SHL",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Logical shift left R1 by (R2 & 0xF).", "alt": "" },
    { "hex": "0x49", "name": "SHR",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Logical shift right R1 by (R2 & 0xF).", "alt": "" },
    { "hex": "0x4A", "name": "CMP",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Internal subtraction to set flags.", "alt": "" },
    { "hex": "0x4B", "name": "ADC",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Add with Carry: R1 + R2 + C.", "alt": "" },
  
    { "hex": "0x50", "name": "INC",    "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Increment register R by 1.", "alt": "" },
    { "hex": "0x51", "name": "DEC",    "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Decrement register R by 1.", "alt": "" },
    { "hex": "0x52", "name": "NOT",    "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Bitwise NOT (Invert all bits).", "alt": "" },
    { "hex": "0x53", "name": "NEG",    "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Two's complement negation (0 - R).", "alt": "" },
  
    { "hex": "0x60", "name": "IADD",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Add immediate byte B to R.", "alt": "Add byte B to word at [R] in memory." },
    { "hex": "0x61", "name": "ISUB",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Subtract immediate byte B from R.", "alt": "Sub byte B from word at [R] in memory." },
    { "hex": "0x62", "name": "IMUL",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Multiply R by immediate byte B.", "alt": "Mul word at [R] by B in memory." },
    { "hex": "0x63", "name": "IDIV",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Divide R by immediate byte B.", "alt": "Div word at [R] by B in memory." },
    { "hex": "0x64", "name": "IMOD",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Modulo R by immediate byte B.", "alt": "Mod word at [R] by B in memory." },
    { "hex": "0x65", "name": "IAND",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Bitwise AND R with byte B.", "alt": "And word at [R] with B in memory." },
    { "hex": "0x66", "name": "IOR",    "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Bitwise OR R with byte B.", "alt": "Or word at [R] with B in memory." },
    { "hex": "0x67", "name": "IXOR",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Bitwise XOR R with byte B.", "alt": "Xor word at [R] with B in memory." },
    { "hex": "0x68", "name": "ICMP",   "len": 3, "logic": null , "words": 2 , "pattern": "RB", "desc": "Compare R with immediate byte B.", "alt": "Compare word at [R] with byte B in memory." },
    { "hex": "0x69", "name": "DINC",   "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Increment word at memory address [R].", "alt": "" },
    { "hex": "0x6A", "name": "DDEC",   "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Decrement word at memory address [R].", "alt": "" },
  
    { "hex": "0x70", "name": "JMP",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Unconditional jump to address W.", "alt": "" },
    { "hex": "0x71", "name": "JEQ",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Jump if Zero (equal).", "alt": "" },
    { "hex": "0x72", "name": "JNE",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Jump if Not Zero (not equal).", "alt": "" },
    { "hex": "0x73", "name": "JGT",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Jump if Greater Than.", "alt": "" },
    { "hex": "0x74", "name": "JLT",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Jump if Less Than.", "alt": "" },
    { "hex": "0x75", "name": "JGE",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Jump if Greater or Equal.", "alt": "" },
    { "hex": "0x76", "name": "JLE",    "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Jump if Less or Equal.", "alt": "" },
    { "hex": "0x77", "name": "CALL",   "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Push PC+3 to stack and jump to W.", "alt": "Push PC+3 to stack and jump to the address contained in R1." },
    { "hex": "0x78", "name": "RET",    "len": 1, "logic": null , "words": 0 , "pattern": "", "desc": "Pop address from stack and jump back.", "alt": "" },
    { "hex": "0x79", "name": "PUSH",   "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Push value in R onto stack.", "alt": "Push the low byte of R onto the stack" },
    { "hex": "0x7A", "name": "POP",    "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Pop from stack into R.", "alt": "Pop single byte from stack into R" },
    { "hex": "0x7B", "name": "OUT_R",  "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Log register R to debug console.", "alt": "" },
    { "hex": "0x7C", "name": "OUT_B",  "len": 2, "logic": null , "words": 1 , "pattern": "B", "desc": "Log immediate byte B to debug console.", "alt": "" },
    { "hex": "0x7D", "name": "OUT_W",  "len": 3, "logic": null , "words": 1 , "pattern": "W", "desc": "Log immediate word W to debug console.", "alt": "" },
    
    { "hex": "0x80", "name": "RND",    "len": 3, "logic": null , "family": true , "words": 2 , "pattern": "RW", "desc": "Family. Random (0 to W-1) into Rn.", "alt": "" },
    { "hex": "0x90", "name": "FLIPR",  "len": 1, "logic": null , "words": 1 , "pattern": "", "desc": "Flips between using registers 0-15 and 16-31.", "alt": "" },
    { "hex": "0x91", "name": "CAM",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Relatively moves camera by the values in (rX,rY). The values in rX and rY are treated as signed.", "alt": "Sets the camera position to (rX,rY)" },
    { "hex": "0x92", "name": "GETOAM", "len": 2, "logic": null , "words": 2 , "pattern": "R", "desc": "Copies the current value of the OAM cursor to rX.", "alt": "" },
    { "hex": "0x93", "name": "SETOAM", "len": 2, "logic": null , "words": 2 , "pattern": "R", "desc": "Sets the value of the OAM cursor to the value in rX", "alt": "" },
    { "hex": "0x94", "name": "GETSEQ", "len": 2, "logic": null , "words": 2 , "pattern": "R", "desc": "Copies the current value of the Sequencer cursor to rX.", "alt": "" },
    { "hex": "0x95", "name": "SETSEQ", "len": 2, "logic": null , "words": 2 , "pattern": "R", "desc": "Sets the value of the Sequencer cursor to the value in rX. Does not start playing.", "alt": "" },
  
    { "hex": "0xA0", "name": "SONG",   "len": 1, "logic": null , "family": true, "words": 1 , "pattern": "R", "desc": "Family. Start music from address in Rn.", "alt": "" },
    { "hex": "0xC0", "name": "SETCRS", "len": 3, "logic": null , "words": 2 , "pattern": "BB", "desc": "Set text cursor to (X, Y).", "alt": "Relative Move cursor by (X, Y)." },
    { "hex": "0xD0", "name": "DRAW",   "len": 3, "logic": null , "family": true, "words": 4 , "pattern": "RRRR", "desc": "Family. Draw sprite: X, Y, ID, Attr. & Type (Low byte -> attr, high byte -> type)", "alt": ""},
    { "hex": "0xE0", "name": "INSTR",  "len": 3, "logic": null , "family": true, "words": 3 , "pattern": "RBB", "desc": "Family. Define ADSR for instrument Rn.", "alt": "" },
    
    { "hex": "0xC1", "name": "OAMPOS", "len": 3, "logic": null , "words": 3 , "pattern": "RRR", "desc": "Set R2, R3 to the (X, Y) coordinates of the tile at OAM[R1]", "alt": ""},
    { "hex": "0xC2", "name": "SAVE",   "len": 1, "logic": null , "words": 0 , "pattern": "", "desc": "Alerts the motherboard that a save was requested.", "alt": "" },
    { "hex": "0xF0", "name": "OAMTAG", "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Pack Attribute and Type bytes of OAM[R1] into R2. Low Endian.", "alt": "Set R2 to the Tile ID of OAM[R1]" },
    { "hex": "0xF1", "name": "CLS",    "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Clear screen with color in R and invalidate OAM entries from the current OAM cursor position.", "alt": "Hard Clear: Wipe screen and reset OAM." },
    { "hex": "0xF2", "name": "VBLNK",  "len": 1, "logic": null , "words": 0 , "pattern": "", "desc": "Yield CPU until next V-Blank.", "alt": "" },
    { "hex": "0xF3", "name": "PLAY",   "len": 3, "logic": null , "words": 3 , "pattern": "RRR", "desc": "Play note: Channel, Note, Instrument. Cannot be retriggered by the sequencer until the note is over.", "alt": "" },
    { "hex": "0xF4", "name": "STOP",   "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Stop sound on channel in R.", "alt": "" },
    { "hex": "0xF5", "name": "INPUT",  "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Read Controller [R1] into R2.", "alt": "" },
    { "hex": "0xF7", "name": "TEXT",   "len": 2, "logic": null , "words": 1 , "pattern": "B", "desc": "Draw ASCII char B at cursor.", "alt": "Print Register: Interpret B as register index and draw its value." },
    { "hex": "0xF8", "name": "ATTR",   "len": 2, "logic": null , "words": 1 , "pattern": "B", "desc": "Set global text color/attributes.", "alt": "" },
    { "hex": "0xF9", "name": "SWC",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Swap Palette: Active[R1] = Master[R2].", "alt": "" },
    { "hex": "0xFA", "name": "BANK",   "len": 2, "logic": null , "words": 1 , "pattern": "R", "desc": "Switch current bank to R1.", "alt": "" },
    { "hex": "0xFC", "name": "MUTE",   "len": 1, "logic": null , "words": 0 , "pattern": "", "desc": "Toggle music sequencer.", "alt": "Hard Silence: Stop all sound output." },
    { "hex": "0xFD", "name": "COL",    "len": 2, "logic": null , "words": 2 , "pattern": "RR", "desc": "Check Collision for OAM[R1], store in R2.", "alt": "" },

    { "hex": "0xFE", "name": "ALT",    "len": 1, "logic": null , "words": 0 , "pattern": "", "desc": "Prefix. Modifies next opcode logic.", "alt": "" },
    { "hex": "0xFF", "name": "HALT",   "len": 1, "logic": "IsHalted = true;" , "words": 0 , "pattern": "", "desc": "Terminate CPU (hard-stop).", "alt": "" }
]
